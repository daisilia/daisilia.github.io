$("sidebar-content").ready(function(){let e=document.getElementById("TableOfContents");e&&!e.classList.contains("numbered")&&(e.classList.add("numbered"),genUlNum(e.children[0]));let t=document.getElementsByClassName("sidebar-nav-item"),n=document.getElementsByClassName("sidebar-pannel");for(let e in t)t[e].onclick=function(){switchPannel(e)};for(let e in n)if(n[e].childElementCount>0){switchPannel(e);break}document.getElementById("TOCTitle")&&(document.getElementById("TOCTitle").onclick=back2Top);function s(){const n=document.getElementById("Back2top"),a=document.getElementById("Back2topProgress");var e=document.documentElement,s=document.body,o="scrollTop",i="scrollHeight",t=(e[o]||s[o])/((e[i]||s[i])-e.clientHeight)*100;t==0?n.style.display="none":(n.style.display=null,a.innerText=(t<99?Math.round(t):100)+"%")}s(),window.onscroll=function(){s()}}),$(".series-list").ready(function(){let e=document.querySelector(".series-list");e&&!e.classList.contains("numbered")&&(e.classList.add("numbered"),genUlNum(e))}),$(".series-content").ready(function(){if(window.location.pathname=="/series/")return;let e=document.querySelectorAll(".series-title, .series-item");for(let t of e)if(t.getAttribute("href")==window.location.pathname){t.classList.add("now");break}}),document.querySelectorAll("details").forEach(e=>{new Accordion(e)});for(anchor of document.querySelectorAll("a.page")){var timeOutId,lastHoverEl;anchor.addEventListener("mouseenter",function(e){summaryContentEl.classList.remove("force-hide"),lastHoverEl==this&&clearTimeout(timeOutId),lastHoverEl=this,timeOutId=setTimeout(()=>{var t,n,o,a,c,i=this.getAttribute("href"),s=this.innerText.split("#")[1];USE_TEXT_ANCHOR&&(s=s||i.split("#")[1]),a=summaries[i.split("#")[0].toLowerCase()],summaryContentEl.innerHTML=`<div id="HoverSummaryInner" class="article-content">
                    <h4 class="hover-summary-title">
                        <a href="${i.split("#")[0]}">${a.title}</a>
                        ${s?'<a href="'+i+'">#'+decodeURI(s)+"</a>":""}
                    </h4>
                    ${a.summary!=""?'<div class="hover-summary-content summary">'+a.summary+"</div>":""}
                </div>`;const r=document.getElementById("HoverSummaryInner");window.pjax.refresh(r),c=this.getBoundingClientRect(),t=e.clientX-c.left,t=t<20||t>summaryContentEl.clientWidth-20?20:t,summaryContentEl.style.left=offsetToBody(this,"left")+document.body.getBoundingClientRect().x+"px",summaryContentEl.style.right=null,offsetToBody(this,"left")+summaryContentEl.clientWidth>=document.body.clientWidth&&(summaryContentEl.style.left=null,summaryContentEl.style.right="3px",t=summaryContentEl.clientWidth-document.body.offsetWidth-document.body.getBoundingClientRect().x+e.clientX,t=Math.min(t,summaryContentEl.clientWidth-20)),n=offsetToBody(this,"top")+this.offsetHeight+HOVER_SUMMARY_MARGIN,o=null,c.top>document.body.clientHeight-c.bottom?(n=offsetToBody(this,"top")-summaryContentEl.clientHeight-HOVER_SUMMARY_MARGIN,r.style.clipPath=`polygon(0 calc(100% - 5px), ${t-5}px calc(100% - 5px), ${t}px 100%, ${t+5}px calc(100% - 5px), 100% calc(100% - 5px), 100% 0, 0 0)`,n<0&&(o=summaryContentEl.offsetHeight+n-INNER_BORDER+"px",n=HOVER_SUMMARY_MARGIN),summaryContentEl.classList.remove("bottom"),summaryContentEl.classList.add("top")):(r.style.clipPath=`polygon(0 5px, ${t-5}px 5px, ${t}px 0, ${t+5}px 5px, 100% 5px, 100% 100%, 0 100%)`,n+summaryContentEl.offsetHeight>document.body.scrollHeight&&(o=document.body.clientHeight-n-INNER_BORDER+"px"),summaryContentEl.classList.remove("top"),summaryContentEl.classList.add("bottom")),o&&(r.style.maxHeight=o),summaryContentEl.style.top=n+"px",summaryContentEl.classList.remove("hide")},500)}),anchor.addEventListener("mouseleave",function(){lastHoverEl==this&&clearTimeout(timeOutId),lastHoverEl=this,timeOutId=setTimeout(()=>{summaryContentEl.classList.add("hide")},500)})}